{
  "title": "Process a payment",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/bc/transfer/",
  "method": "POST",
  "category_path": [
    "BC Payments"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Access-Token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Authorized access token. For details, see Authentication ."
      },
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The content type of the request. Allowed value: \"application/json\""
      }
    ],
    "parameters": [
      {
        "name": "bc_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Business Center ID."
      },
      {
        "name": "transfer_level",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Transfer level. Enum values: ADVERTISER : Recharge money to or deduct money from an ad account. BC : Increase or decrease the credit balance of the Business Center. When transfer_level is set to BC , you need to specify the ID of a Business Center that has enabled Monthly Invoicing via bc_id . Default value: ADVERTISER ."
      },
      {
        "name": "advertiser_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when transfer_level is set to ADVERTISER or not specified. Ad account ID."
      },
      {
        "name": "transfer_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "How you'd like to process payments for an ad account or the Business Center. Enum values: RECHARGE : Recharge money to an ad account or increase the credit balance of a Business Center. REFUND : Deduct money from an ad account or decrease the credit balance of a Business Center."
      },
      {
        "name": "cash_amount Conditional",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "You need to specify either cash_amount or grant_amount . If Balance Sharing is enabled and transfer_level is ADVERTISER , this parameter is not supported. The cash or credit amount to process, rounded to two decimal places. When transfer_level is set to ADVERTISER or not specified, this field represents the cash amount to process. When transfer_level is set to BC or not specified, this field represents the credit amount to process. Value range: > 0. Note : If you choose RECHARGE as the transfer type and then specify a cash amount, there will be a limit on the minimum amount that you can transfer from a Business Center to the ad account. To find the minimum amount limit , use /advertiser/balance/get/ and check the returned cash_amount within the object min_transferable_amount ."
      },
      {
        "name": "grant_amount Conditional",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "You need to specify either cash_amount or grant_amount . When transfer_level is BC , this parameter is not supported. Voucher amount to process, rounded to two decimal places. Value range: > 0."
      },
      {
        "name": "request_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Valid only when transfer_level is BC . Request ID. This field supports idempotency to prevent you from sending the same request twice. If you retry requests with the same request ID multiple times, then only one will succeed. It is different from the request_id returned in the response parameters, which is used to uniquely identify an HTTP request. The value should be a string representation of a 64-bit integer number. Example: \"123456789\""
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl -H \"Access-Token:xxx\" -H \"Content-Type:application/json\" -X POST \\\n-d '{\n    \"advertiser_id\": \"ADVERTISER_ID\", \n    \"bc_id\": \"BC_ID\", \n    \"cash_amount\": \"CASH_AMOUNT\", \n    \"grant_amount\": \"GRANT_AMOUNT\", \n    \"transfer_type\": \"TRANSFER_TYPE\"\n}' \\\nhttps://business-api.tiktok.com/open_api/v1.3/bc/transfer/"
      }
    ]
  },
  "response": {
    "top_fields": [
      {
        "name": "code",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "Return code, see Appendix-Return codes"
      },
      {
        "name": "message",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Return message, see Appendix-Return codes"
      },
      {
        "name": "request_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The log id of the request, which uniquely identifies a request."
      },
      {
        "name": "data",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Return data."
      }
    ],
    "data": {
      "fields": [
        {
          "name": "bc_id",
          "required": false,
          "type": "number",
          "raw_type": "number",
          "description": "Business Center ID. When transfer_level is BC , this field will not be returned."
        },
        {
          "name": "advertiser_id",
          "required": false,
          "type": "number",
          "raw_type": "number",
          "description": "Ad account ID. When transfer_level is BC , this field will not be returned."
        },
        {
          "name": "transaction_infos",
          "required": false,
          "type": "array",
          "raw_type": "object[]",
          "description": "Details of the transfers. Note : When transfer_level is ADVERTISER or not specified, since you are transferring an amount between the ad account and a Business Center, you will receive two transaction records, one at the ad account level and one at the Business Center level. In such cases, you can map the transactions to the transaction records returned from /bc/account/transaction/get/ by sending two calls to /bc/account/transaction/get/ , one with transaction_level set to BC and one with transaction_level set to ADVERTISER ."
        },
        {
          "name": "transaction_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Transaction ID of the transfer. Example: 1234567890 ."
        },
        {
          "name": "transaction_type",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Transaction type of the transfer. Enum values: CASH : cash. GRANT : voucher. CREDIT : credit."
        }
      ],
      "list": {
        "item_fields": []
      }
    },
    "other_tables": [],
    "example": {
      "status_line": "HTTPS/1.1 200 OK",
      "body": "{\n    \"code\": 0,\n    \"message\": \"OK\",\n    \"request_id\": \"{{request_id}}\",\n    \"data\": {\n        \"advertiser_id\": {{advertiser_id}},\n        \"transaction_infos\": [\n            {\n                \"transaction_id\": \"{{transaction_id}}\",\n                \"transaction_type\": \"CASH\"\n            },\n            {\n                \"transaction_id\": \"{{transaction_id}}\",\n                \"transaction_type\": \"CASH\"\n            }\n        ],\n        \"bc_id\": {{bc_id}}\n    }\n}"
    }
  }
}
