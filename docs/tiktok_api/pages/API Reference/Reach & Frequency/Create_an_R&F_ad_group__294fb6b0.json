{
  "title": "Create an R&F ad group",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/adgroup/rf/create/",
  "method": "POST",
  "category_path": [
    "Reach & Frequency"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Access-Token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Authorized access token. For details, see Authentication ."
      },
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request message type Allowed format: \"application/json\""
      }
    ],
    "parameters": [
      {
        "name": "request_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request ID with which you can create ad groups with duplicate names. It also supports idempotency to prevent you from sending the same request twice. It is different from the request_id returned in the response parameters, which is used to uniquely identify an HTTP request. The value should be a string representation of a 64-bit integer number. Example: \"123456789\""
      },
      {
        "name": "advertiser_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Advertiser ID."
      },
      {
        "name": "campaign_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The campaign the ad group belongs to."
      },
      {
        "name": "share_disabled",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether sharing to third-party platforms is disabled for ads in this ad group. Default value: False ."
      },
      {
        "name": "adgroup_name",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Name of the ad group. It must not exceed 100 characters or contain any emojis."
      },
      {
        "name": "promotion_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Promotion type and you can decide where you'd like to promote your products using this field. Enum values: APP_ANDROID , APP_IOS , WEBSITE , WEBSITE_OR_DISPLAY . If objective_type is RF_REACH , set this field to WEBSITE_OR_DISPLAY ."
      },
      {
        "name": "optimization_event",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Conversion event for the ad group. It is required when the promoted object is an App with tracking urls. For the supported app events, see Conversion events . You can use the /app/external_action/ endpoint to find out the supported events for your app."
      },
      {
        "name": "app_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "ID of the promoted mobile application."
      },
      {
        "name": "comment_disabled",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether to prohibit users from commenting on your ads on TikTok. Default value: False ."
      },
      {
        "name": "audience_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the audiences that you want to target. For an audience to be targeted or excluded in R&F ads, you must set audience_sub_type to REACH_FREQUENCY when creating or updating the audience. Note : You cannot use Lookalike Audience in R&F ads. Otherwise, an error will occur."
      },
      {
        "name": "excluded_audience_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the audiences that you want to exclude. For an audience to be targeted or excluded in R&F ads, you must set audience_sub_type to REACH_FREQUENCY when creating or updating the audience. Note : You cannot use Lookalike Audience in R&F ads. Otherwise, an error will occur."
      },
      {
        "name": "age_groups",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Age groups you want to target. If your targeting locations include Israel or Brazil, AGE_13_17 cannot be used. For enum values, see Enumeration - Age Group . In certain scenarios, creation of ad groups that target the age group 13-17 ( AGE_13_17 ) in the US will not be allowed. See New age restrictions for ads on TikTok to learn more. If you use targeting options that are not supported for the age group 13-17 in the US and leave the age_groups field unspecified or set it as [] , an error will occur. You need to explicitly specify the exact age groups that you want to target, such as AGE_18_24 , in the field to avoid any errors."
      },
      {
        "name": "gender",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Audience gender. For more details, see Enumeration - Audience Gender ."
      },
      {
        "name": "languages",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Codes of the languages that you want to target. For the list of languages codes supported, see Enumeration - Language Code ."
      },
      {
        "name": "location_ids",
        "required": true,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the targeted locations. The location can be at the country or region level, the Province, DMA (Designated Market Area) or Metropolitan level, or the city level. Location targeting supports a single country or region only. If you want to target multiple locations, they must from the same country or region. You can find the supported countries and regions in About Reach & Frequency ."
      },
      {
        "name": "is_hfss",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether the promoted content is HFSS foods (foods that are high in fat, salt, or sugar). Please note that the European market prohibits the promotion of HFSS foods to underage users."
      },
      {
        "name": "operating_systems",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Device operating systems that you want to target. Enum values: ANDROID , IOS , PC ."
      },
      {
        "name": "network_types",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Device connection types that you want to target. Default value: unlimited . For enum values, see Enumeration - Connection Type ."
      },
      {
        "name": "device_model_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the device models that you want to target. Currently only brand-level model IDs are supported. When this field is specified, device_price_ranges must not be specified. For enum values of device model IDs on different levels, please see Device Models . Note : Only active devices ( is_active = True in the response of /tool/device_model/ ) can be used to create ads."
      },
      {
        "name": "device_price_ranges",
        "required": false,
        "type": "number",
        "raw_type": "number[]",
        "description": "Targeting device price range. 10000 means 1000+. The numbers must be in multiples of 50. Important : The upper limit you set will be added by 50 and the resulting new number will be used as the actual upper limit for device targeting. The actual upper limit is shown in the ad group settings in TikTok Ads Manager. If you set and get the price range of [0, 250], it actually means [0, 300]."
      },
      {
        "name": "carrier_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Carriers that you want to target. A carrier is valid only when the in_use field for the carrier is true . The carriers must be consistent with the location(s) that you want to target. Use Get Carriers to get carrier IDs."
      },
      {
        "name": "interest_category_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "List of interest categories that you want to target. Use /tool/interest_category/ endpoint to get the complete list of interest categories."
      },
      {
        "name": "rf_purchased_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Buying type. Allowed values: FIXED_SHOW : Purchase to achieve a fixed amount of impressions. FIXED_REACH : Purchase to reach a fixed number of users. FIXED_BUDGET : Purchase with a fixed budget."
      },
      {
        "name": "budget",
        "required": true,
        "type": "number",
        "raw_type": "float",
        "description": "Budget. Please fill in this number based on the data returned via the ad inventory estimate API. See Create a Reach & Frequency campaign - Step 4 for how to specify the field."
      },
      {
        "name": "purchased_impression",
        "required": true,
        "type": "number",
        "raw_type": "number",
        "description": "Impressions to be purchased, in the unit of 1,000 . Please fill in this number based on the data returned via the ad inventory estimate API. See Create a Reach & Frequency campaign - Step 4 for how to specify the field."
      },
      {
        "name": "purchased_reach",
        "required": true,
        "type": "number",
        "raw_type": "number",
        "description": "Purchased user reach, in the unit of 1,000 . Please fill in this number based on the data returned via the ad inventory estimate API. See Create a Reach & Frequency campaign - Step 4 for how to specify the field."
      },
      {
        "name": "schedule_start_time",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Schedule start time (UTC+0), in the format of YYYY-MM-DD HH:MM:SS . The time interval between schedule_start_time and schedule_end_time must not exceed 90 days. The value of this field must be at YYYY-MM-DD HH:00:00 for the time zone where the ad will be delivered. For instance, if an advertiser in the UTC-5 time zone wants to create an R&F ad group that starts delivery on November 1st, 2023, this field must be set to \"2023-11-01 05:00:00\" ."
      },
      {
        "name": "schedule_end_time",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Schedule end time (UTC+0), in the format of YYYY-MM-DD HH:MM:SS . The time interval between schedule_start_time and schedule_end_time must not exceed 90 days. The value of this field must be at YYYY-MM-DD HH:59:59 for the time zone where the ad will be delivered. For instance, if an advertiser in the UTC-5 time zone wants to create an R&F ad group that ends delivery on November 10th, 2023, this field must be set to \"2023-11-10 04:59:59\" ."
      },
      {
        "name": "frequency",
        "required": true,
        "type": "number",
        "raw_type": "number",
        "description": "frequency , together with frequency_schedule , controls how often people see your ad (only available for REACH ads). For example, frequency = 2 & frequency_schedule = 3 means \"show ads no more than twice every 3 days\". The following conditions should be met: 1 ≤ frequency ≤ frequency_schedule . 1 ≤ frequency_schedule ≤ min ( schedule_end_time - schedule_start_time , 30). The frequency cap determined by frequency and frequency_schedule does not exceed four times a day."
      },
      {
        "name": "frequency_schedule",
        "required": true,
        "type": "number",
        "raw_type": "number",
        "description": "frequency_schedule , together with frequency , controls how often people see your ad (only available for REACH ads). See frequency field for more."
      },
      {
        "name": "optimization_goal",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The measurable results you'd like to drive with your ads. It must be aligned with the value for objective_type on the campaign level. Enum values: REACH , VIDEO_VIEW , CLICK , POST_ENGAGEMENT , INSTALL ."
      },
      {
        "name": "cpv_video_duration Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The target video view duration. Required when optimization_goal is VIDEO_VIEW . Enum values: TWO_SECONDS , SIX_SECONDS ."
      },
      {
        "name": "brand_safety_type",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Brand safety type for Reach and Frequency ads. Default value: NO_BRAND_SAFETY . Enum values: NO_BRAND_SAFETY : To not use any brand safety solution. Full inventory, which means your ads may appear next to some content featuring mature themes. EXPANDED_INVENTORY : Use TikTok's brand safety solution. Expanded inventory means that your ads will appear next to content where most inappropriate content has been removed, and that does not contain mature themes. In the next API version, EXPANDED_INVENTORY will replace NO_BRAND_SAFETY and will be the default brand safety option. STANDARD_INVENTORY : Use TikTok's brand safety solution. Standard inventory means that ads will appear next to content that is appropriate for most brands. LIMITED_INVENTORY : Use TikTok's brand safety solution. Limited inventory means that your ads will not appear next to content that contains mature themes. THIRD_PARTY : Use a third-party brand safety solution. You also need to pass in a value to the brand_safety_partner field. To get the countries and regions that your ads can be deployed to based on your brand safety settings, use the /tool/region/ endpoint. Note : Pre-bid third-party brand safety solutions are currently allowlist-only features. If you would like to access them, please contact your TikTok representative. See Brand safety to learn about the supported advertising objectives, supported markets, and the general introduction of pre-bid Brand Safety filtering."
      },
      {
        "name": "brand_safety_partner Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Brand safety partner for Reach and Frequency ads. Required when brand_safety_type is THIRD_PARTY . Enum values: IAS , OPEN_SLATE (The partner is named DoubleVerify on TikTok Ads Manager because the partner has been acquired by DoubleVerify). Note : Pre-bid third-party brand safety solutions are currently allowlist-only features. If you would like to access them, please contact your TikTok representative. Once set, this field cannot be modified."
      },
      {
        "name": "category_exclusion_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Valid when brand_safety_type is set to STANDARD_INVENTORY or LIMITED_INVENTORY . Content exclusion category IDs. You can use /tool/content_exclusion/get/ to get a list of content category IDs ( excluded_category_list ) that can be excluded from being displayed next to your ads."
      },
      {
        "name": "video_download_disabled",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether users can download your video ads on TikTok(cannot be updated once created). Default value: false ."
      },
      {
        "name": "feed_type",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Feed type option. Enum values: STANDARD_FEED , TOP_FEED . STANDARD_FEED refers to large inventory with normal CPM price while TOP_FEED refers to limited inventory with higher CPM price."
      },
      {
        "name": "delivery_mode",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The strategy for sequencing and scheduling your ad delivery. Enum values: STANDARD : Standard delivery. Your ads will be distributed evenly and are expected to achieve similar traffic size. SCHEDULE : Scheduled delivery. Set specific time periods to deliver each ad in. If you use this value, you need to pass the object array schedules at the same time. SEQUENCE : Sequenced delivery. Set a specific sequence to deliver your ads in. If you use this value, you need to pass the field expected_orders at the same time. OPTIMIZE ( Deprecated ): Optimized delivery that delivers ads to achieve the best performance. Default value: STANDARD ."
      },
      {
        "name": "schedule_infos",
        "required": false,
        "type": "array",
        "raw_type": "object[]",
        "description": "Ad delivery information. When delivery_mode is set to SEQUENCE , the number of objects in this array represents the number of ads that you will specify the sequence for."
      },
      {
        "name": "schedules Conditional",
        "required": true,
        "type": "array",
        "raw_type": "object[]",
        "description": "Required when delivery_mode is set to SCHEDULE . The details of the scheduled delivery that you want to set for the ad. Ensure that the schedule is continuous and covers the whole delivery period that is specified through schedule_start_time and schedule_end_time ."
      },
      {
        "name": "start_time",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Ad delivery start time, in the format of \"YYYY-MM-DD HH:MM:SS\" ."
      },
      {
        "name": "end_time",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Ad delivery end time, in the format of \"YYYY-MM-DD HH:MM:SS\" ."
      },
      {
        "name": "expected_orders Conditional",
        "required": true,
        "type": "number",
        "raw_type": "number[]",
        "description": "Required when delivery_mode is set to SEQUENCE . The delivery order for an ad within the ad group. To set a fixed sequence for each ad within the ad group, pass only one number (for instance, [1] ) to this field. A value of [1] indicates that the ad will be delivered first."
      },
      {
        "name": "contextual_tag_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Not supported when brand_safety_type is set to THIRD_PARTY . Not supported when feed_type is set to TOP_FEED . Contextual tag IDs. You can use /tool/contextual_tag/get/ to get available contextual tags. Note : If you set rf_campaign_type to PULSE in /campaign/create/ , you must include the contextual tags from either the MAX_PULSE or CUSTOM content lineup types under PREMIUM type when creating an ad group. GENERAL type contextual tags are optional. See TikTok Pulse to learn more about how to use TikTok Pulse. Currently, you can run Max Pulse targeting US (the United States), CA (Canada), BR (Brazil) and Category Lineups targeting US (the United States), CA (Canada), BR (Brazil), AU (Australia), GB (the United Kingdom), FR (France), IT (Italy), ES (Spain), DE (Germany). Both features are allowlist only. If you want to use them in the above markets, please contact your TikTok representative. This is an allowlist-only feature. If you would like to access it, please contact your TikTok representative."
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl -H \"Access-Token:xxx\" -H \"Content-Type:application/json\" -X POST \\\n-d '{\n    \"languages\": [\n        \"LANGUAGES\"\n    ], \n    \"buy_impression\": \"BUY_IMPRESSION\", \n    \"is_comment_disable\": \"IS_COMMENT_DISABLE\", \n    \"estimate_key\": \"ESTIMATE_KEY\", \n    \"gender\": \"GENDER\", \n    \"age\": [\n        \"AGE\"\n    ], \n    \"frequency_schedule\": \"FREQUENCY_SCHEDULE\", \n    \"budget\": \"BUDGET\", \n    \"campaign_id\": \"CAMPAIGN_ID\", \n    \"advertiser_id\": \"ADVERTISER_ID\", \n    \"frequency\": \"FREQUENCY\", \n    \"location\": [\n        \"LOCATION\"\n    ], \n    \"schedule_end_time\": \"SCHEDULE_END_TIME\", \n    \"request_id\": \"REQUEST_ID\", \n    \"operation_system\": [\n        \"OPERATION_SYSTEM\"\n    ], \n    \"buy_reach\": \"BUY_REACH\", \n    \"rf_buy_type\": \"RF_BUY_TYPE\", \n    \"adgroup_name\": \"ADGROUP_NAME\", \n    \"schedule_start_time\": \"SCHEDULE_START_TIME\"\n}' \\\nhttps://business-api.tiktok.com/open_api/v1.3/adgroup/rf/create/"
      }
    ]
  },
  "response": {
    "example": {
      "status_line": "",
      "body": ""
    }
  }
}