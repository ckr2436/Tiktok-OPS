{
  "title": "Upload an image",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/file/image/ad/upload/",
  "method": "POST",
  "category_path": [
    "Business Messaging",
    "Direct messages"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Access-Token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Authorized access token. For details, see Authentication ."
      },
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request message type. Use multipart/form-data when upload_type is UPLOAD_BY_FILE . Use application/json when upload_type is UPLOAD_BY_URL or UPLOAD_BY_FILE_ID ."
      }
    ],
    "parameters": [
      {
        "name": "advertiser_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Advertiser ID."
      },
      {
        "name": "file_name",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Image name. Length limit: 1-100 characters. The default value is the file name. If the final filename has more than 100 chars, it will be cut off. Important : Images under the same advertiser_id cannot have duplicated file names. You can call /file/name/check/ to check whether the file name has been used. If you get an error about duplicated file names, please rename the files or append timestamps to the original file names ( for example, in the format of _ ) , and upload the images again."
      },
      {
        "name": "upload_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Image upload method. Default value: UPLOAD_BY_FILE . Enum values: UPLOAD_BY_FILE , UPLOAD_BY_URL , UPLOAD_BY_FILE_ID ."
      },
      {
        "name": "image_file Conditional",
        "required": true,
        "type": "string",
        "raw_type": "file",
        "description": "Required when upload_type is UPLOAD_BY_FILE . Image file. Recommended settings: File size: within 50 MB. Resolution: The total pixel count of the image, which is obtained by multiplying the width and height, should not exceed 3,686,400 pixels (1440 x 2560). For example, a resolution of 2400 x 1256 pixels is within the supported range, while a resolution of 3600 x 1256 pixels will result in an error. To learn about the recommended image resolution for a certain use case, refer to the section \" Image resolution guidelines and use cases \". File type: JPG, JPEG, or PNG"
      },
      {
        "name": "image_signature Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when upload_type is UPLOAD_BY_FILE . MD5 of the image (used for server verification)."
      },
      {
        "name": "image_url Conditional",
        "required": true,
        "type": "string",
        "raw_type": "url",
        "description": "Required when upload_type is UPLOAD_BY_URL . Image url address. Example: http://xxx.xxx."
      },
      {
        "name": "file_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when upload_type is UPLOAD_BY_FILE_ID . The file_id of the image that you want to upload. This field is for files that are uploaded to the file repository. You can get file_id via the Upload Files endpoints."
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/file/image/ad/upload/' \\\n--header 'Access-Token: {{Access-Token}}' \\\n--header 'Content-Type: multipart/form-data' \\\n--form 'advertiser_id=\"{{advertiser_id}}\"' \\\n--form 'file_name=\"{{file_name}}\"' \\\n--form 'image_file=@\"{{image_file}}\"' \\\n--form 'image_signature=\"{{image_signature}}\"'"
      }
    ]
  },
  "response": {
    "top_fields": [
      {
        "name": "code",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "Return code. For the complete list of response codes and descriptions, see Appendix-Return code ."
      },
      {
        "name": "message",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Return Message. For details, see Appendix-Return Information ."
      },
      {
        "name": "data",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Returned data."
      }
    ],
    "data": {
      "fields": [
        {
          "name": "image_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Image ID that is used to create ads."
        },
        {
          "name": "material_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Material ID."
        },
        {
          "name": "is_carousel_usable",
          "required": false,
          "type": "boolean",
          "raw_type": "boolean",
          "description": "Whether the source of the image is valid for Carousel Ads. Note : Due to the latency in writing the image data, this field might not be returned. In such situations, we recommend waiting for 10 seconds and then using the image_id returned from this endpoint with either /file/image/ad/info/ or /file/image/ad/search/ to retrieve the data. To use an image in Carousel Ads, you need to ensure the value of this field is true , and the image meets the specifications requirements listed in Create Carousel Ads-Steps-Create an ad ."
        },
        {
          "name": "displayable",
          "required": false,
          "type": "boolean",
          "raw_type": "bool",
          "description": "Whether it can be displayed on the platform."
        },
        {
          "name": "height",
          "required": false,
          "type": "number",
          "raw_type": "number",
          "description": "Image height."
        },
        {
          "name": "width",
          "required": false,
          "type": "number",
          "raw_type": "number",
          "description": "Image width."
        },
        {
          "name": "format",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Image Format."
        },
        {
          "name": "image_url",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Image URL, valid for an hour and needs to be re-acquired after expiration."
        },
        {
          "name": "signature",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "MD5 of picture."
        },
        {
          "name": "size",
          "required": false,
          "type": "number",
          "raw_type": "number",
          "description": "Image size in bytes."
        },
        {
          "name": "file_name",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Image name."
        },
        {
          "name": "create_time",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Creation time. UTC time. Format: 2020-06-10T07:39:14Z. Note : Due to the latency in writing the image data, this field might not be returned. In such situations, we recommend waiting for 10 seconds and then using the image_id returned from this endpoint with either /file/image/ad/info/ or /file/image/ad/search/ to retrieve the data."
        },
        {
          "name": "modify_time",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "Modification time. UTC time. Format: 2020-06-10T07:39:14Z. Note : Due to the latency in writing the image data, this field might not be returned. In such situations, we recommend waiting for 10 seconds and then using the image_id returned from this endpoint with either /file/image/ad/info/ or /file/image/ad/search/ to retrieve the data."
        },
        {
          "name": "request_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "The log id of a request, which uniquely identifies the request."
        }
      ],
      "list": {
        "item_fields": []
      }
    },
    "other_tables": [],
    "example": {
      "status_line": "HTTPS/1.1 200 OK",
      "body": "{\n    \"code\": 0,\n    \"message\": \"OK\",\n    \"request_id\": \"{{request_id}}\",\n    \"data\": {\n        \"displayable\": false,\n        \"width\": 320,\n        \"signature\": \"{{signature}},\n        \"height\": 640,\n        \"create_time\": \"{{create_time}}\",\n        \"file_name\": \"{{file_name}}\",\n        \"image_id\": \"{{image_id}}\",\n        \"format\": \"jpeg\",\n        \"modify_time\": \"{{modify_time}}\",\n        \"image_url\": \"{{image_url}}\",\n        \"is_carousel_usable\": true,\n        \"material_id\": \"{{material_id}}\",\n        \"size\": 73398\n    }\n}"
    }
  }
}
