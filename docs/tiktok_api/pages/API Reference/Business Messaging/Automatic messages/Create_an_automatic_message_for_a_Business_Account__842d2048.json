{
  "title": "Create an automatic message for a Business Account",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/business/message/auto_message/create/",
  "method": "POST",
  "category_path": [
    "Business Messaging",
    "Automatic messages"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Access-Token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "A short-term access token authorized by the TikTok Business Account owner. For details, see Authentication ."
      },
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request message type. Allowed format: application/json ."
      }
    ],
    "parameters": [
      {
        "name": "business_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Application specific unique identifier for the TikTok Business Account. Pass the value of the open_id field returned in the response of /tt_user/oauth2/token/ to this field."
      },
      {
        "name": "auto_message_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The type of automatic message. Enum values: WELCOME_MESSAGE : welcome message. A welcome message is a message that is automatically sent to a user when they start a direct message conversation with you. To learn about how to manage the welcome message, see Manage the welcome message for a Business Account . SUGGESTED_QUESTION : suggested question. A suggested question is a frequently asked question displayed at the beginning of a chat. When the user selects a suggested question, the user will automatically receive the corresponding preset answer. To learn about how to manage suggested questions, see Manage the suggested questions for a Business Account . CHAT_PROMPT : chat prompt. A chat prompt is an interactive button displayed above the input box. When users tap a chat prompt, the system will automatically generate a corresponding question for users to start the conversation. To learn about how to manage chat prompts, see Manage the chat prompts for a Business Account ."
      },
      {
        "name": "welcome_message Conditional",
        "required": true,
        "type": "object",
        "raw_type": "object",
        "description": "Required when auto_message_type is WELCOME_MESSAGE . Information about the welcome message."
      },
      {
        "name": "content Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when welcome_message is passed. The text of the welcome message. Length limit: 250 characters. Example: Hi there, Please leave us a message and we will respond to you shortly. Thank you! . Note : You can use \"\\n\" as a line break to display the welcome message in multiple lines within the mobile TikTok App. To ensure proper display, check the welcome message in the TikTok mobile app after deployment."
      },
      {
        "name": "suggested_question Conditional",
        "required": true,
        "type": "object",
        "raw_type": "object",
        "description": "Required when auto_message_type is SUGGESTED_QUESTION . Information about the suggested question. You can only create one suggested question per call. For each Business Account, you can customize up to three suggested questions. If you try to create more than three suggested questions, an error will occur. To create multiple suggested questions, call /business/message/auto_message/create/ multiple times. Note : Duplicate suggested questions are not supported."
      },
      {
        "name": "question Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when suggested_question is passed. A frequently asked question to help users start a conversation. Length limit: 80 characters."
      },
      {
        "name": "answer Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when suggested_question is passed. The preset answer that will be automatically sent when a user selects the question. Length limit: 200 characters."
      },
      {
        "name": "chat_prompt Conditional",
        "required": true,
        "type": "object",
        "raw_type": "object",
        "description": "Required when auto_message_type is CHAT_PROMPT . Information about the chat prompt. You can only create one chat prompt per call. For each Business Account, you can customize up to six chat prompts. If you try to create more than six chat prompts, an error will occur. To create multiple chat prompts, call /business/message/auto_message/create/ multiple times. If you set up multiple chat prompts for your Business Account, the chat prompt that was created earliest will appear as the first prompt above the input box. To sort the chat prompts, use /business/message/auto_message/sort/ . Note : Duplicate chat prompts are not supported."
      },
      {
        "name": "title Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when chat_prompt is passed. The name of the prompt button that is displayed above the input box. Length limit: 18 characters. You can use text, system emojis, and both English and non-English languages. To ensure optimal display, keep the name concise and clear."
      },
      {
        "name": "content Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when chat_prompt is passed. The corresponding question for the prompt that the system automatically generates for users to start the conversation when users tap the chat prompt. Length limit: 150 characters. You can use text, system emojis, and both English and non-English languages."
      }
    ],
    "examples": [
      {
        "title": "Create a welcome message",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/business/message/auto_message/create/' \\\n--header 'Access-Token: {{Access-Token}}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"business_id\": \"{{business_id}}\",\n    \"auto_message_type\": \"WELCOME_MESSAGE\",\n    \"welcome_message\": {\n        \"content\": \"{{content}}\"\n    }\n}'"
      },
      {
        "title": "Create a suggested question",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/business/message/auto_message/create/' \\\n--header 'Access-Token: {{Access-Token}}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"business_id\": \"{{business_id}}\",\n    \"auto_message_type\": \"SUGGESTED_QUESTION\",\n    \"suggested_question\": {\n        \"question\": \"{{question}}\",\n        \"answer\":\"{{answer}}\"\n    }\n}'"
      },
      {
        "title": "Create a chat prompt",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/business/message/auto_message/create/' \\\n--header 'Access-Token: {{Access-Token}}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"business_id\": \"{{business_id}}\",\n    \"auto_message_type\": \"CHAT_PROMPT\",\n    \"chat_prompt\": {\n        \"title\": \"{{title}}\",\n        \"content\":\"{{content}}\"\n    }\n}'"
      }
    ]
  },
  "response": {
    "top_fields": [
      {
        "name": "code",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "Response code. For the complete list of response codes and descriptions, see Appendix-Return Code ."
      },
      {
        "name": "message",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Response message. For details, see Appendix - Return Codes ."
      },
      {
        "name": "request_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The log ID of a request, which uniquely identifies the request."
      },
      {
        "name": "data",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Returned data."
      }
    ],
    "data": {
      "fields": [
        {
          "name": "auto_message",
          "required": false,
          "type": "object",
          "raw_type": "object",
          "description": "Information about the automatic message."
        },
        {
          "name": "auto_message_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "The ID of the automatic message."
        }
      ],
      "list": {
        "item_fields": []
      }
    },
    "other_tables": [],
    "example": {
      "status_line": "HTTPS/1.1 200 OK",
      "body": "{\n    \"code\": 0,\n    \"message\": \"OK\",\n    \"request_id\": \"{{request_id}}\",\n    \"data\": {\n        \"auto_message\": {\n            \"auto_message_id\": \"{{auto_message_id}}\"\n        }\n    }\n}"
    }
  }
}
