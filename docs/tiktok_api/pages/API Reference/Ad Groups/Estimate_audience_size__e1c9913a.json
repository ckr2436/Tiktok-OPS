{
  "title": "Estimate audience size",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/ad/audience_size/estimate/",
  "method": "POST",
  "category_path": [
    "Ad Groups"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Access-Token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Authorized access token. For details, see Authentication ."
      },
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request message type Allowed format: \"application/json\" ."
      }
    ],
    "parameters": [
      {
        "name": "advertiser_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Advertiser ID"
      },
      {
        "name": "placement_type",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Placement type. Enum values: PLACEMENT_TYPE_AUTOMATIC (Automatic placement) PLACEMENT_TYPE_NORMAL (Select placement). Default value: PLACEMENT_TYPE_NORMAL ."
      },
      {
        "name": "placements Conditional",
        "required": true,
        "type": "array",
        "raw_type": "string[]",
        "description": "The apps where you want to deliver your ads. Required when placement_type is PLACEMENT_TYPE_NORMAL , and ignored when placement_type is PLACEMENT_TYPE_AUTOMATIC . Currently, we support PLACEMENT_TIKTOK , PLACEMENT_PANGLE and PLACEMENT_GLOBAL_APP_BUNDLE . For a full list of enum values, see Enumeration - Placement . Note : The available locations you can target with the Global App Bundle placement ( PLACEMENT_GLOBAL_APP_BUNDLE ) are: Brazil, Indonesia, Vietnam, the Philippines, Thailand, Malaysia, Mexico, Saudi Arabia, and Japan. The Global App Bundle placement ( PLACEMENT_GLOBAL_APP_BUNDLE ) does not support the optimization goal Landing Page View ( optimization_goal = TRAFFIC_LANDING_PAGE_VIEW ). To learn about the optimization goal, refer to the section Enumerations-Optimization goal . For Product Sales campaigns ( objective_type = PRODUCT_SALES ), only TikTok placement ( PLACEMENT_TIKTOK ) is supported."
      },
      {
        "name": "app_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "ID of the promoted app. This field is required when the campaign objective is APP_PROMOTION ."
      },
      {
        "name": "pixel_id Conditional",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Pixel ID. Only application for landing pages. It needs to be passed in with the external_action field. Use /pixel/list/ endpoint to get all Pixel IDs."
      },
      {
        "name": "ios14_targeting Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The iOS devices that you want to target. Note : When campaign_type of the campaign is set as IOS14_CAMPAIGN , ios14_targeting is required and must be specified as IOS14_PLUS . Enum values: UNSET : The default value for ad groups that were created before the introduction of this field. IOS14_MINUS : Devices with iOS 14.4 or earlier versions, which are not affected by the iOS 14 privacy update. This is the default value for ad groups that are created after the introduction of this field. IOS14_PLUS : Devices with iOS 14.5 and above. The iOS 14 privacy update has been enforced in this group of devices. Specify this value if you want to create an iOS 14 campaign. Each iOS 14 campaign can have up to 2 active ad groups. If IOS14_PLUS is specified, this field cannot be updated. If IOS14_PLUS is specified for this field, the system will verify if related fields meet the requirements for an iOS 14 campaign. The following fields will be checked. app_id : It must not be an ID of an Android app. operating_systems : It must not be ANDROID or PC . min_ios_version : You must specify a value for this field, and the the value must not contradict with the selection for ios14_targeting . min_android_version : Must not be specified. optimization_goal : Can only be set to CLICK , INSTALL , IN_APP_EVENT or VALUE . shopping_ads_retargeting_type : Must not be specified. shopping_ads_retargeting_actions_days : Must not be specified. conversion_window : Must not be specified. On the Ad level, deeplink_type must not be set to DEFERRED_DEEPLINK ."
      },
      {
        "name": "objective_type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Your objective type. For enum values, see Enumeration - Advertising Objective ."
      },
      {
        "name": "optimization_goal",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Optimization goal. For enum values, see Enumeration - Optimization Goal ."
      },
      {
        "name": "promotion_type Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when objective_type = PRODUCT_SALES . Promotion type and you can decide where you'd like to promote your products using this field. For enum values, see Enumeration - Promotion Type ."
      },
      {
        "name": "product_source Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when objective_type = PRODUCT_SALES . Product source where you want to get products for promotion. Enum values: UNSET , CATALOG (Catalog), STORE (TikTok Shop)."
      },
      {
        "name": "catalog_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when objective_type = PRODUCT_SALES . Catalog ID."
      },
      {
        "name": "product_set_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "ProductSet ID of the catalog. 0 means selecting all product sets. The default value is 0."
      },
      {
        "name": "catalog_authorized_bc_id Conditional",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "For catalogs in Business Center, you must specify the ID of the Business Center that a catalog belongs to."
      },
      {
        "name": "shopping_ads_retargeting_type",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when the campaign objective_type is PRODUCT_SALES . The retargeting type of shopping ads. Enum values: LAB1 : Retargeting audiences who viewed products or added products to cart but didn't purchase products. LAB2 : Retargeting audiences who added products to cart but didn't purchase products. LAB3 : Retargeting audiences using custom combination. OFF : No retargeting."
      },
      {
        "name": "shopping_ads_retargeting_actions_days Conditional",
        "required": true,
        "type": "number",
        "raw_type": "number",
        "description": "Required when shopping_ads_retargeting_type is LAB1 or LAB2 . The valid time range for the specified audience action. Audiences who have completed the specified action within the time range will be retargeted by the shopping ads. Value range: 1, 2, 3, 7, 14, 30, 60, 90, 180."
      },
      {
        "name": "included_custom_actions Conditional",
        "required": false,
        "type": "array",
        "raw_type": "object[]",
        "description": "When shopping_ads_retargeting_type is LAB3 , you need to pass in either included_custom_actions or excluded_custom_actions . The custom action that you want to use as \"Include\" conditions for filtering out the shopping ads audiences to be retargeted."
      },
      {
        "name": "code",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The custom action used to filter out the audiences to be retargeted. Enum values: VIEW_PRODUCT : The audience viewed the product. ADD_TO_CART : The audience added the product to the cart. PURCHASE : The audience purchased the product."
      },
      {
        "name": "days",
        "required": false,
        "type": "integer",
        "raw_type": "integer",
        "description": "The time range used to filter out the audiences that completed the specified action. Value range: [1,180]."
      },
      {
        "name": "excluded_custom_actions",
        "required": false,
        "type": "array",
        "raw_type": "object[]",
        "description": "When shopping_ads_retargeting_type is LAB3 , you need to pass in either included_custom_actions or excluded_custom_actions . The custom action that you want to use as \"Exclude\" conditions for filtering out the shopping ads audiences to be retargeted."
      },
      {
        "name": "code",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The custom action used to filter out the audiences to be retargeted. Enum values: VIEW_PRODUCT : The audience viewed the product. ADD_TO_CART : The audience added the product to the cart. PURCHASE : The audience purchased the product."
      },
      {
        "name": "days",
        "required": false,
        "type": "integer",
        "raw_type": "integer",
        "description": "The time range used to filter out the audiences that didn't complete the specified action. Value range: [1,180]."
      },
      {
        "name": "audience_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "List of audience IDs. You can get audience IDs by using the /dmp/custom_audience/list/ endpoint."
      },
      {
        "name": "excluded_audience_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "A list of audience ID to be excluded. You can get audience IDs by using the /dmp/custom_audience/list/ endpoint."
      },
      {
        "name": "audience_rule",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Audience rule, valid if objective_type is TRAFFIC or WEB_CONVERSIONS . For details, see Audience Rules"
      },
      {
        "name": "audience_type",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "App retargeting audience type. For enum values, see Enumeration - App Retargeting Audience Type"
      },
      {
        "name": "location_ids Conditional",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the locations that you want to target. You need to set location_ids or zipcode_ids or both. Max size: 3,000. If you provide both location_ids and zipcode_ids , the combined total of location IDs, zip code IDs, and postal code IDs cannot exceed 3,000 per ad group. To get the available locations and corresponding IDs based on your placement and objective, use the /tool/region/ or /tool/targeting/search/ endpoint. For enum values, see Location IDs . Note : Overlapping targeted locations are not supported. For instance, you cannot target the U.S. and the state of California at the same time."
      },
      {
        "name": "zipcode_ids Conditional",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Zip code IDs or postal code IDs that you want to use to target locations. You need to set location_ids or zipcode_ids or both. Max size: 3,000. If you provide both location_ids and zipcode_ids , the combined total of location IDs, zip code IDs, and postal code IDs cannot exceed 3,000 per ad group. You can get the available zip code IDs or postal code IDs based on your placement, objective and keyword via geo_id (when geo_type = ZIP_CODE ) returned from the /tool/targeting/search/ endpoint. Note : Zip code targeting is currently only supported for the US and postal code targeting is currently only supported for Canada, Brazil, Indonesia, Thailand, and Vietnam. Targeting postal code areas in Brazil, Indonesia, Thailand, and Vietnam is currently an allowlist-only feature. If you would like to access it, please contact your TikTok representative. You can only use zip code targeting or postal code targeting on TikTok placement. Therefore, the placements value needs to include PLACEMENT_TIKTOK . Overlapping targeted locations are not supported. For instance, you cannot target the U.S. and the state of California at the same time. To get information about zip code IDs or postal code IDs, you can only use /tool/targeting/info/ ."
      },
      {
        "name": "isp_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the Internet service providers (ISP) that you want to target. Valid only when you specify a valid location ID at the country or region level via location_ids at the same time. You can use /tool/targeting/list/ to get the ISP IDs that you can target for a location ID. Note : When you pass in isp_ids , you cannot set the placement as Global App Bundle only ( placements = PLACEMENT_GLOBAL_APP_BUNDLE )."
      },
      {
        "name": "gender",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Gender that you want to target. Enum: GENDER_FEMALE , GENDER_MALE , GENDER_UNLIMITED"
      },
      {
        "name": "age_groups",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Age groups you want to target. For enum values, see Enumeration - Targeting Age Group ."
      },
      {
        "name": "languages",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Codes of the languages that you want to target. For the list of languages codes supported, see Enumeration - Language Code . You can get language codes via /tool/language/ , and if you don't want to limit the languages you target, assign an empty value to this field or do not pass in this field."
      },
      {
        "name": "interest_category_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of general interest categories that you want to use to target audiences. To search for or list general interest category IDs, use /targeting/search/ (recommended) or /tool/interest_category/ . To get recommended interest category IDs based on your industry, use /tool/targeting_category/recommend/ ."
      },
      {
        "name": "interest_keyword_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of additional interest categories that you want to use to target audience. To search for additional interest categories, use /targeting/search/ (recommended) or /tool/interest_keyword/recommend/ ."
      },
      {
        "name": "purchase_intention_keyword_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of purchase intention categories that you want to use to target audiences with an interest in purchases related to a content category. To search for or list purchase intention category IDs, use /targeting/search/ . Note : Do not pass in purchase_intention_keyword_ids and interest_keyword_ids at the same time. Otherwise, keyword conflict will occur. purchase_intention_keyword_ids only supports Auction ads with theobjective_type as APP_PROMOTION , WEB_CONVERSIONS ， LEAD_GENERATION , TRAFFIC , or PRODUCT_SALES with product_source as CATALOG , and the placement setting should include TikTok ( PLACEMENT_TIKTOK ) or Pangle ( PLACEMENT_PANGLE )."
      },
      {
        "name": "actions",
        "required": false,
        "type": "array",
        "raw_type": "object[]",
        "description": "A list of targeting behavioral category objects."
      },
      {
        "name": "action_scene",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The type of user behavior that you want to target. Enum values: VIDEO_RELATED : Video interactions. CREATOR_RELATED : Creator interactions. HASHTAG_RELATED : Hashtag interactions."
      },
      {
        "name": "action_period",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "Select a time period to include behaviors from. Enum values: 0 , 7 , 15 . If action_scene is CREATOR_RELATED or HASHTAG_RELATED , 0 will be used regardless of the value you pass in. 0 means that there is no definite timeframe to select actions from. Note : Currently, when creating an ad group with video interaction targeting ( action_scene = VIDEO_RELATED ) via TikTok Ads Manager , you cannot select the time period ( action_period ), and 15 days ( 15 ) will be used by default. However, when creating ad groups via API , 0 , 7 , or 15 can still be passed."
      },
      {
        "name": "video_user_actions",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "The specific user interactions that you want to target for the user behavior type. If action_scene is VIDEO_RELATED , the allowed values are: WATCHED_TO_END , LIKED , COMMENTED , SHARED . If action_scene is CREATOR_RELATED , the allowed values are: FOLLOWING , VIEW_HOMEPAGE . If action_scene is HASHTAG_RELATED , the allowed value is VIEW_HASHTAG . Note : Currently, when creating an ad group via TikTok Ads Manager (TTAM) , you cannot define the kind of user actions ( video_user_actions ). By default, the ad group created via TTAM will use the options as follows: For an ad group with video interaction targeting ( action_scene = VIDEO_RELATED ), all the four options ( [\"WATCHED_TO_END\",\"LIKED\",\"COMMENTED\",\"SHARED\"] ) will be used. For an ad group with creator interaction targeting ( action_scene = CREATOR_RELATED ), both options( [\"FOLLOWING\",\"VIEW_HOMEPAGE\"] ) will be used. However, when creating ad groups via API , you can still pass in the desired enum value combinations, for example: [\"LIKED\",\"COMMENTED\"] if action_scene = VIDEO_RELATED ."
      },
      {
        "name": "action_category_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Valid only when TikTok placement is the only placement selected. IDs of the video interactions categories, creator interactions categories, hashtags, or hashtag bundles that you want to use to target audiences. To search for or list video interactions category IDs or creator interactions category IDs, use /targeting/search/ (recommended) or /tool/action_category/ . To get hashtag IDs or hashtag bundle IDs, use /targeting/search/ (recommended) or /tool/hashtag/recommend/ . To get recommended video interactions category IDs, creator interactions category IDs, hashtag IDs, or hashtag bundle IDs based on your industry, use /tool/targeting_category/recommend/ ."
      },
      {
        "name": "operating_systems Conditional",
        "required": true,
        "type": "array",
        "raw_type": "string[]",
        "description": "Device operating systems that you want to target. Only one value is allowed. Enum values: ANDROID , IOS . This field is required in two scenarios: objective_type is APP_PROMOTION objective_type is TRAFFIC and promotion_type is APP_IOS or APP_ANDROID"
      },
      {
        "name": "min_ios_version",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Minimum iOS version. For enum values, see Enumeration - Minimum iOS Version ."
      },
      {
        "name": "min_android_version",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Minimum device Android version. For enum values, see Enumeration - Minimum Android Version ."
      },
      {
        "name": "device_model_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the device models that you want to target. Use /tool/device_model/ to get the complete list of device model IDs and their statuses, and only active devices ( is_active = True in the response of /tool/device_model/ ) can be used to create ads. Note : Device model ( device_model_ids ) and device price ( device_price_ranges ) cannot be set at the same time."
      },
      {
        "name": "network_types",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Device connection types that you want to target. Default: unlimited . For enum values, see Enumeration - Connection Type ."
      },
      {
        "name": "household_income",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Household income that you want to target. Enum values: TOP5 (Top 5% of ZIP codes), TOP10 (Top 10% of ZIP codes), TOP10_25 (Top 10% -25% of ZIP codes), TOP25_50 (Top 25% - 50% of ZIP codes). Note: It only supports the ad objectives for Auction ads. See Advertising objectives for details. It is only applicable to the TikTok Placement in the US. If you have specified special_industries at the campaign level, then you cannot use the field here."
      },
      {
        "name": "spending_power",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Spending power that you want to target. Enum values: ALL , HIGH . If it is set to HIGH , you can target high spending users who typically spend more on purchases on TikTok ads than average users. Note: : This field does not support the advertising objectives PRODUCT_SALES and RF_REACH at the campaign level. See Advertising objectives for details. This field supports Automatic Placement and Select Placement with TikTok included. Therefore, you need to set placement_type to PLACEMENT_TYPE_AUTOMATIC , or include PLACEMENT_TIKTOK in the value of placements . Note that if you specify Pangle as a placement, the spending power targeting won't take effect on Pangle. It cannot be used with special industries targeting at the same time. If you have specified special_industries at the campaign level, then you cannot use the field here. When auto_targeting_enabled is true at the ad group level, then spending_power will be automatically set to ALL ."
      },
      {
        "name": "device_price_ranges",
        "required": false,
        "type": "number",
        "raw_type": "number[]",
        "description": "Targeting device price range. 10000 means 1000+. The numbers must be in multiples of 50. Important : The upper limit you set will be added by 50 and the resulting new number will be used as the actual upper limit for device targeting. The actual upper limit is shown in the ad group settings in TikTok Ads Manager. If you set and get the price range of [0, 250], it actually means [0, 300]."
      },
      {
        "name": "carrier_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Carriers that you want to target. A carrier is valid only when the in_use field for the carrier is true . The carriers must be consistent with the location(s) that you want to target. Use /tool/carrier/ endpoint to get the enum values."
      },
      {
        "name": "included_pangle_audience_package_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the Pangle audiences that you want to include. Valid only for Pangle placement. You can get audience IDs ( package_id ) by using the /pangle_audience_package/get/ endpoint. You need to set bind_type to INCLUDE . Do not specify this field and excluded_pangle_audience_package_ids at the same time."
      },
      {
        "name": "excluded_pangle_audience_package_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "IDs of the Pangle audiences that you want to exclude. Valid only for Pangle placement. You can get audience IDs ( package_id ) by using the /pangle_audience_package/get/ endpoint. You need to set bind_type to EXCLUDE . Do not specify this field and included_pangle_audience_package_ids at the same time."
      },
      {
        "name": "blocked_pangle_app_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Pangle app block list ID. You can get an ID via the app_package_id field returned by Get Pangle block list . It only takes effect when Pangle placement is selected."
      },
      {
        "name": "targeting_expansion To be deprecated",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Settings about targeting expansion"
      },
      {
        "name": "expansion_enabled",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether to enable targeting expansion"
      },
      {
        "name": "expansion_types Conditional",
        "required": true,
        "type": "array",
        "raw_type": "string[]",
        "description": "The target audience types that you want to expand. Required when enable_expansion is true . Target audience types that are eligible for expanding must already have a value or selection. Enum values: AGE GENDER INTEREST_AND_BEHAVIOR : This type includes ad_tag_v2 , video_action , action_days , action_categories , and action_scene . CUSTOM_AUDIENCE : This type includes retargeting_tags and retargeting_tags_exclude"
      },
      {
        "name": "auto_targeting_enabled To be deprecated",
        "required": false,
        "type": "boolean",
        "raw_type": "boolean",
        "description": "Whether to enable automated targeting. Enum values: True , False ."
      },
      {
        "name": "contextual_tag_ids",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "Contextual tag IDs. You can use /tool/contextual_tag/get/ to get available contextual tags. See Contextual targeting to learn more about how to use Contextual targeting. Note : This is an allowlist-only feature. If you would like to access it, please contact your TikTok representative. Only supports REACH and VIDEO_VIEWS as objectives ( objective_type ) at the campaign level. Not supported when brand_safety_type is set to THIRD_PARTY ."
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/ad/audience_size/estimate/' \\\n--header 'Access-Token: ACCESS_TOKEN' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"advertiser_id\": \"ADV_ID\",\n    \"placement_type\": \"PLACEMENT_TYPE_AUTOMATIC\",\n    \"objective_type\": \"REACH\",\n    \"optimization_goal\": \"CLICK\",\n    \"location_ids\": [\n        \"6252001\"\n    ],\n    \"auto_targeting_enabled\": true\n}'\n    https://business-api.tiktok.com/open_api/v1.3/ad/audience_size/estimate/"
      }
    ]
  },
  "response": {
    "example": {
      "status_line": "HTTPS/1.1 200 OK",
      "body": {
        "message": "OK",
        "code": 0,
        "data": {
          "user_count": {
            "lower_end": 107229000,
            "upper_end": 131059000
          }
        },
        "request_id": "2021090909090909024510008412345678"
      }
    }
  }
}