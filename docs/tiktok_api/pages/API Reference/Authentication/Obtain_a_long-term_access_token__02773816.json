{
  "title": "Obtain a long-term access token",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/oauth2/access_token/",
  "method": "POST",
  "category_path": [
    "Authentication"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Request message type Accepted format: \"application/json\""
      }
    ],
    "parameters": [
      {
        "name": "app_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "ID of your developer app. To find the App ID , navigate to My Apps > App Detail > Basic Information ."
      },
      {
        "name": "secret",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Secret of your developer app. To find the Secret , navigate to My Apps > App Detail > Basic Information ."
      },
      {
        "name": "auth_code",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The authorization code ( auth_code ) generated by your Advertiser authorization URL . The code is valid for one hour and can only be used once. To find out how to get the authorization code based on the type of API you use, see the \" Authorization URL \" row in Comparing authorization for different APIs ."
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl --location -request POST 'https://business-api.tiktok.com/open_api/v1.3/oauth2/access_token/' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"app_id\": \"{{app_id}}\",\n    \"secret\": \"{{secret}}\",\n    \"auth_code\": \"{{auth_code}}\"\n}'"
      },
      {
        "title": "Example",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/oauth/token/' \\\n--header 'Content-Type: application/x-www-form-urlencoded' \\\n--data-urlencode 'grant_type=authorization_code' \\\n--data-urlencode 'client_id={{client_id}}' \\\n--data-urlencode 'client_secret={{client_secret}}' \\\n--data-urlencode 'code={{code}}'"
      },
      {
        "title": "Example",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/oauth/token/' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"grant_type\": \"authorization_code\",\n    \"client_id\": \"{{client_id}}\",\n    \"client_secret\": \"{{client_secret}}\",\n    \"code\": \"{{code}}\"\n}'"
      }
    ]
  },
  "response": {
    "top_fields": [
      {
        "name": "code",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "Return code. For the complete list of response codes and descriptions, see Return codes ."
      },
      {
        "name": "message",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Response message. For details, see Return codes ."
      },
      {
        "name": "request_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The unique ID of the request."
      },
      {
        "name": "data",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "Return data."
      }
    ],
    "data": {
      "fields": [
        {
          "name": "access_token",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "The long-term access token for permission verification"
        },
        {
          "name": "advertiser_ids",
          "required": false,
          "type": "array",
          "raw_type": "string[]",
          "description": "The list of ad accounts that the token can access."
        },
        {
          "name": "scope",
          "required": false,
          "type": "number",
          "raw_type": "number[]",
          "description": "The scope of permissions granted to the access token. See Permission scope to learn about the permission that a scope ID (value of scope ) corresponds to."
        }
      ],
      "list": {
        "item_fields": [
          {
            "name": "Content-Type",
            "required": true,
            "type": "string",
            "raw_type": "string",
            "description": "Request message type Accepted format: [ application/x-www-form-urlencoded , application/json ]"
          }
        ]
      }
    },
    "other_tables": [
      {
        "title": "Request message type Accepted format: [ application/x-www-form-urlencoded , application/json ]",
        "fields": [
          {
            "name": "client_id",
            "required": true,
            "type": "string",
            "raw_type": "string",
            "description": "ID of your developer app. To find the App ID , navigate to My Apps > App Detail > Basic Information ."
          },
          {
            "name": "client_secret",
            "required": true,
            "type": "string",
            "raw_type": "string",
            "description": "Secret of your developer app. To find the Secret , navigate to My Apps > App Detail > Basic Information ."
          },
          {
            "name": "code",
            "required": true,
            "type": "string",
            "raw_type": "string",
            "description": "The authorization code ( auth_code ) generated by your Advertiser authorization URL . The code is valid for one hour and can only be used once. To find out how to get the authorization code based on the type of API you use, see the \" Authorization URL \" row in Comparing authorization for different APIs ."
          },
          {
            "name": "grant_type",
            "required": true,
            "type": "string",
            "raw_type": "string",
            "description": "The way of generating the access token. The allowed enum value: authorization_code (To generate the access token by authorization code)."
          }
        ]
      },
      {
        "title": "Response",
        "fields": [
          {
            "name": "code",
            "required": false,
            "type": "number",
            "raw_type": "number",
            "description": "Response code. For the complete list of response codes and descriptions, see Return codes ."
          },
          {
            "name": "message",
            "required": false,
            "type": "string",
            "raw_type": "string",
            "description": "Response message. For details, see Return codes ."
          },
          {
            "name": "request_id",
            "required": false,
            "type": "string",
            "raw_type": "string",
            "description": "The log ID of a request, which uniquely identifies the request."
          },
          {
            "name": "access_token",
            "required": false,
            "type": "string",
            "raw_type": "string",
            "description": "The long-term access token for permission verification."
          },
          {
            "name": "token_type",
            "required": false,
            "type": "string",
            "raw_type": "string",
            "description": "Token type. Enum values: Bearer (Bearer token. Anyone in possession of the token can use it to access the associated resources)."
          },
          {
            "name": "advertiser_ids",
            "required": false,
            "type": "array",
            "raw_type": "string[]",
            "description": "The list of ad accounts that the token can access."
          },
          {
            "name": "scope",
            "required": false,
            "type": "number",
            "raw_type": "number[]",
            "description": "The endpoints that the token can access. See Permission scope to learn about the permission that a scope ID (value of scope ) corresponds to."
          }
        ]
      }
    ],
    "example": {
      "status_line": "HTTPS/1.1 200 OK",
      "body": {
        "message": "OK",
        "code": 0,
        "data": {
          "access_token": "xxxxxxxxxxxxx",
          "scope": [
            4
          ],
          "advertiser_ids": [
            "123456789",
            "123456781"
          ]
        },
        "request_id": "2020042715295501023125104093250"
      }
    }
  }
}
