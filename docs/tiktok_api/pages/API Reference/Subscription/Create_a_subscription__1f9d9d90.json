{
  "title": "Create a subscription",
  "endpoint": "https://business-api.tiktok.com/open_api/v1.3/subscription/subscribe/",
  "method": "POST",
  "category_path": [
    "Subscription"
  ],
  "official_only": true,
  "request": {
    "headers": [
      {
        "name": "Content-Type",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The content type of the request. For this endpoint, use application/json ."
      }
    ],
    "parameters": [
      {
        "name": "app_id",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "ID of your developer application. You can find the App ID by navigating to My Apps > App Detail > Basic Information ."
      },
      {
        "name": "secret",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Secret of your developer application. You can find the Secret by navigating to My Apps > App Detail > Basic Information ."
      },
      {
        "name": "subscribe_entity",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The object that you want to subscribe to. Enum values: AD_ACCOUNT_SUSPENSION : the suspension statuses of ad accounts. LEAD : leads. AD_GROUP : the review status of an ad group. AD : the review status of an ad. TCM_SPARK_ADS : the status of Spark Ads authorization for a video uploaded to a TCM Workflow 2.0 order. TCM_VIDEOS : the linking of a TikTok video to a TTO campaign. CREATIVE_FATIGUE : the fatigue status of an ad, ads within an ad group, or ads within an advertiser account."
      },
      {
        "name": "callback_url",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The callback URL."
      },
      {
        "name": "subscription_detail",
        "required": true,
        "type": "object",
        "raw_type": "object",
        "description": "Details about the subscription."
      },
      {
        "name": "access_token",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "The authorized access token. It can be obtained through the /oauth2/access_token/ endpoint. Note : If the access_token used to configure the Webhook is revoked (either by the developer or the advertiser), the Webhook subscription will no longer work, and no further Webhook events will be received. In such cases, regenerate the access_token and reconfigure the Webhook using the new access token."
      },
      {
        "name": "lead_source",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Valid only when subscribe_entity is LEAD . The source of the leads to subscribe to. Enum values: INSTANT_FORM : leads generated through Instant Forms. DIRECT_MESSAGE : leads generated from direct messages of the associated Business Account. Default value: INSTANT_FORM ."
      },
      {
        "name": "bc_id Conditional",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "If subscribe_entity is AD_ACCOUNT_SUSPENSION , you need to pass in either bc_id or advertiser_ids . Business Center ID. You will subscribe to the suspension statuses of all ad accounts owned by the Business Center. Note : You need to have admin access to the Business Center. To obtain the list of Business Centers that you have admin access to, use /bc/get/ and select Business Centers with the returned user_role as ADMIN ."
      },
      {
        "name": "advertiser_ids Conditional",
        "required": false,
        "type": "array",
        "raw_type": "string[]",
        "description": "If subscribe_entity is AD_ACCOUNT_SUSPENSION , you need to pass in either bc_id or advertiser_ids . A list of advertiser IDs. You will subscribe to the suspension statuses of these ad accounts, which can be owned by different Business Centers. Max size: 100. Note : You need to have access to these ad accounts. To obtain the list of ad accounts that you have access to, use /bc/asset/get/ . Set asset_type to ADVERTISER and select ad accounts with the returned advertiser_role as ADMIN , OPERATOR , or ANALYST ."
      },
      {
        "name": "advertiser_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when subscribe_entity is AD_GROUP , AD , LEAD or CREATIVE_FATIGUE . Advertiser ID. If you want to subscribe to the review status of an ad group or ad ( subscribe_entity is AD_GROUP , or AD ), advertiser_id is required. If you want to subscribe to leads ( subscribe_entity is LEAD ): When lead_source is INSTANT_FORM or not specified, you need to pass in either advertiser_id (to subscribe to leads from Lead Generation ads using Instant Forms that are associated with an ad account) or library_id (to subscribe to leads from Lead Generation ads using Instant Forms that are associated with a form library), and page_id is optional. When lead_source is DIRECT_MESSAGE , you need to pass in either advertiser_id (to subscribe to leads from direct messaging ads associated with an ad account) or library_id (to subscribe to leads from direct messaging ads associated with a form library), and page_id is not supported. If you want to subscribe to the fatigue status ( subscribe_entity is CREATIVE_FATIGUE ), advertiser_id is required and you can choose to pass in adgroup_id , or ad_id , or neither. When only advertiser_id is passed, you will subscribe to the fatigue status of all ads under the ad account. Note : If subscribe_entity is LEAD and advertiser_id is specified, you need to have Admin access to the ad account. To obtain the list of ad accounts that you have access to, use /bc/asset/get/ . Set asset_type to ADVERTISER and select ad accounts with the returned advertiser_role as ADMIN ."
      },
      {
        "name": "library_id Conditional",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when subscribe_entity is LEAD . ID of the form library that contains the leads you want to subscribe to. You can get form library ID via library_id returned by /page/library/get/ . If you want to subscribe to Instant Form leads ( subscribe_entity is LEAD and lead_source is INSTANT_FORM or not specified), you need to pass in either advertiser_id or library_id , and page_id is optional. When only advertiser_id is passed, you will subscribe to all page_id under the advertiser account ( advertiser_id ). If you want to subscribe to direct message leads ( subscribe_entity is LEAD and lead_source is DIRECT_MESSAGE ), you need to pass in either advertiser_id or library_id , and page_id is not supported."
      },
      {
        "name": "page_id",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when subscribe_entity is LEAD and lead_source is INSTANT_FORM or not specified. Not supported when subscribe_entity is LEAD and lead_source is DIRECT_MESSAGE . Page ID of the Instant Form that you want to subscribe to. To obtain a list of Instant Forms, use /page/get/ and set business_type to LEAD_GEN . If you want to subscribe to Instant Form leads ( subscribe_entity is LEAD and lead_source is INSTANT_FORM or not specified), you need to pass in either advertiser_id or library_id , and page_id is optional. When only advertiser_id is passed, you will subscribe to all page_id under the advertiser account ( advertiser_id )."
      },
      {
        "name": "adgroup_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when subscribe_entity is AD_GROUP or CREATIVE_FATIGUE . Ad group ID. Required if subscribe_entity is AD_GROUP . If you specify subscribe_entity as CREATIVE_FATIGUE and pass in both advertiser_id and adgroup_id , you will subscribe to the fatigue status of the specified ad group."
      },
      {
        "name": "ad_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Valid when subscribe_entity is AD or CREATIVE_FATIGUE . Ad ID. Required if subscribe_entity is AD . If you specify subscribe_entity as CREATIVE_FATIGUE and pass in both advertiser_id and ad_id , you will subscribe to the fatigue status of the specified ad."
      },
      {
        "name": "tcm_account_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when subscribe_entity is TCM_SPARK_ADS . TikTok Creator Marketplace account ID."
      },
      {
        "name": "video_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when subscribe_entity is TCM_SPARK_ADS . The ID of the video that is uploaded to a TCM Workflow 2.0 order. To get the IDs of videos that have been uploaded to a TCM Workflow 2.0 order, use /tcm/order/get/v2/ or /tcm/report/get/v2/ ."
      },
      {
        "name": "tto_tcm_account_id Conditional",
        "required": true,
        "type": "string",
        "raw_type": "string",
        "description": "Required when subscribe_entity is TCM_VIDEOS . The ID of a TTO Creator Marketplace account. To obtain the IDs of the accounts that you can access via Access-Token , use /tto/oauth2/tcm/ ."
      }
    ],
    "examples": [
      {
        "title": "Example",
        "curl": "curl --location --request POST 'https://business-api.tiktok.com/open_api/v1.3/subscription/subscribe/' \\\n--header 'Access-Token: {{Access-Token}}' \\\n--header 'Content-Type: application/json' \\\n--data-raw '{\n    \"app_id\": \"{{app_id}}\", \n    \"secret\": \"{{secret}}\",\n    \"subscription_detail\": {\n        \"advertiser_id\": \"{{advertiser_id}}\", \n        \"access_token\": \"{{access_token}}\", \n        \"page_id\": \"{{page_id}}\"\n    }, \n    \"subscribe_entity\": \"LEAD\", \n    \"callback_url\": \"{{callback_url}}\"\n}'"
      }
    ]
  },
  "response": {
    "top_fields": [
      {
        "name": "code",
        "required": false,
        "type": "number",
        "raw_type": "number",
        "description": "The response code. For the complete list of response codes and descriptions, see Appendix - Return Codes ."
      },
      {
        "name": "message",
        "required": false,
        "type": "string",
        "raw_type": "string",
        "description": "The response message. For details, see Appendix - Return Codes ."
      },
      {
        "name": "data",
        "required": false,
        "type": "object",
        "raw_type": "object",
        "description": "The returned data."
      }
    ],
    "data": {
      "fields": [
        {
          "name": "subscription_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "The subscription ID"
        },
        {
          "name": "request_id",
          "required": false,
          "type": "string",
          "raw_type": "string",
          "description": "The unique ID of the request."
        }
      ],
      "list": {
        "item_fields": []
      }
    },
    "other_tables": [],
    "example": {
      "status_line": "",
      "body": "{\n    \"code\": 0,\n    \"message\": \"OK\",\n    \"request_id\": \"{{request_id}}\"\n    \"data\": {\n        \"subscription_id\": \"{{subscription_id}}\"\n    },\n}"
    }
  }
}
